<br />
<br />
<br />

<div class="lajnapy">
  <input class="lajnapy serchik" [(ngModel)]="searchTerm" type="text" placeholder="Search task" #filter />
</div>

<br />
<div class="swcontainer">
  <a type="button" id="tglbttn" style="background-color: #f1f1f1; font-family: Flux; color: #000;" (click)="tglbtn()">Show finished tasks</a>
</div>

<br />


  <div *ngIf="xd==true; else elseBlock">
    <div class="tabb">
      <div class="thead">
        <div class="tbHeadItem taskHead">Task</div>
        <div class="tbHeadItem taskPriority">Priority</div>
        <div class="tbHeadItem taskDeadline">Deadline</div>
      </div>
      <div class="tbBody">
        <div class="tbBodyItemm" *ngFor="let taski of taskData() | searchFilter: searchTerm; let i = index;">
            <div class="jetogg" *ngIf="taski.isDone">
              <div class="tableTaskName" type="button" [routerLink]="['/taskdetail', taski.id]">{{taski.name}} </div>
              <div class="tableTaskPriority">{{taski.priority}}</div>
              <div class="tableTaskDeadline">{{taski.deadline | date:'d.M  yyyy' }}</div>
              <div class="tableTaskDelete">
                <button style="transform:scale(100%);" type="button" (click)="onDelete(taski.id)" class="bin-button">
                  <svg class="bin-top"
                       viewBox="0 0 39 7"
                       fill="none"
                       xmlns="http://www.w3.org/2000/svg">
                    <line y1="5" x2="39" y2="5" stroke="white" stroke-width="4"></line>
                    <line x1="12"
                          y1="1.5"
                          x2="26.0357"
                          y2="1.5"
                          stroke="white"
                          stroke-width="3"></line>
                  </svg>

                  <svg class="bin-bottom"
                       viewBox="0 0 33 39"
                       fill="none"
                       xmlns="http://www.w3.org/2000/svg">
                    <mask id="path-1-inside-1_8_19" fill="white">
                      <path d="M0 0H33V35C33 37.2091 31.2091 39 29 39H4C1.79086 39 0 37.2091 0 35V0Z"></path>
                    </mask>
                    <path d="M0 0H33H0ZM37 35C37 39.4183 33.4183 43 29 43H4C-0.418278 43 -4 39.4183 -4 35H4H29H37ZM4 43C-0.418278 43 -4 39.4183 -4 35V0H4V35V43ZM37 0V35C37 39.4183 33.4183 43 29 43V35V0H37Z"
                          fill="white"
                          mask="url(#path-1-inside-1_8_19)"></path>
                    <path d="M12 6L12 29" stroke="white" stroke-width="4"></path>
                    <path d="M21 6V29" stroke="white" stroke-width="4"></path>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>
    </div>
  </div>

  <ng-template #elseBlock>
    <div class="tabb">
      <div class="thead">
        <div class="tbHeadItem taskHead">Task</div>
        <div class="tbHeadItem taskPriority">Priority</div>
        <div class="tbHeadItem taskDeadline">Deadline</div>
      </div>
      <div class="tbBody">
        <div class="tbBodyItemm" *ngFor="let taski of taskData() | searchFilter: searchTerm; let i = index;">
          <div class="jetogg" *ngIf="!taski.isDone">
            <div class="tableTaskName" type="button" [routerLink]="['/taskdetail', taski.id]">{{taski.name}} </div>
            <div class="tableTaskPriority">{{taski.priority}}</div>
            <div class="tableTaskDeadline">{{taski.deadline | date:'d.M  yyyy' }}</div>
            <div class="tableTaskDelete">
              <button style="transform:scale(100%);" type="button" (click)="onDelete(taski.id)" class="bin-button">
                <svg class="bin-top"
                     viewBox="0 0 39 7"
                     fill="none"
                     xmlns="http://www.w3.org/2000/svg">
                  <line y1="5" x2="39" y2="5" stroke="white" stroke-width="4"></line>
                  <line x1="12"
                        y1="1.5"
                        x2="26.0357"
                        y2="1.5"
                        stroke="white"
                        stroke-width="3"></line>
                </svg>

                <svg class="bin-bottom"
                     viewBox="0 0 33 39"
                     fill="none"
                     xmlns="http://www.w3.org/2000/svg">
                  <mask id="path-1-inside-1_8_19" fill="white">
                    <path d="M0 0H33V35C33 37.2091 31.2091 39 29 39H4C1.79086 39 0 37.2091 0 35V0Z"></path>
                  </mask>
                  <path d="M0 0H33H0ZM37 35C37 39.4183 33.4183 43 29 43H4C-0.418278 43 -4 39.4183 -4 35H4H29H37ZM4 43C-0.418278 43 -4 39.4183 -4 35V0H4V35V43ZM37 0V35C37 39.4183 33.4183 43 29 43V35V0H37Z"
                        fill="white"
                        mask="url(#path-1-inside-1_8_19)"></path>
                  <path d="M12 6L12 29" stroke="white" stroke-width="4"></path>
                  <path d="M21 6V29" stroke="white" stroke-width="4"></path>
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-template>

  <br>
  <br>
  <br>
  <br>
  <br>
  <!--
  <div class="swcontainer">
    <a type="button" id="tglbttn" style="background-color: #F9DC5C; font-family: Flex; color: #000;" (click)="tglbtn()">Show finished tasks</a>
  </div>
    -->

  <div>
    <form class="container" [formGroup]="taskForm" (ngSumbit)="onAddTask()">

      <label label-text for="">Task      </label><br />
      <input type="text" class="form-control" formControlName="name">
      <br /> <br />

      <label label-text for="">Description      </label><br />
      <input type="text" class="form-control" formControlName="description">
      <br /> <br />

      <label label-text for="">Priority</label> <br>
      <input type="number" class="form-control" formControlName="priority" min="0" max="5">
      <br /> <br />

      <label label-text for="">Deadline</label> <br>
      <input type="date" class="form-control" formControlName="deadline">
      <br /> <br />


      <a class="btn-primary" style="background-color: #a0b2ff" (click)="onAddTask()">Add Task</a>
      <br /> <br /> <br />
    </form>
  </div>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
